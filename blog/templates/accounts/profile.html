{% extends "base.html" %}
{% load static %}

{% block title %}Perfil{% endblock %}

{% block content %}
<h2>Mi perfil</h2>

<div style="display:flex; gap:24px; align-items:flex-start;">
  <div>
    {% if request.user.profile.avatar %}
      <img src="{{ request.user.profile.avatar.url }}"
           alt="Avatar"
           width="140" height="140"
           style="object-fit:cover; border-radius:50%; border:1px solid #ccc;">
    {% else %}
      <img src="{% static 'img/user.png' %}"
           alt="Avatar por defecto"
           width="140" height="140"
           style="object-fit:cover; border-radius:50%; border:1px solid #ccc;">
    {% endif %}
  </div>

  <div>
    <p><strong>Usuario:</strong> {{ request.user.username }}</p>
    <p><strong>Nombre:</strong> {{ request.user.first_name }} {{ request.user.last_name }}</p>
    <p><strong>Email:</strong> {{ request.user.email }}</p>

    <p><strong>Sitio web:</strong>
      {% if request.user.profile.website %}
        <a href="{{ request.user.profile.website }}" target="_blank" rel="noopener">
          {{ request.user.profile.website }}
        </a>
      {% else %}<em>-</em>{% endif %}
    </p>

    <p><strong>Biografía:</strong> {{ request.user.profile.bio|default:"—" }}</p>
    <p><strong>Cumpleaños:</strong> {{ request.user.profile.birthday|date:"d/m/Y"|default:"—" }}</p>

    <div style="margin-top:12px;">
      <a href="{% url 'profile_edit' %}">✏️ Editar perfil</a> ·
      <a href="{% url 'password_change' %}">🔒 Cambiar contraseña</a>
    </div>
  </div>
</div>
{% endblock %}